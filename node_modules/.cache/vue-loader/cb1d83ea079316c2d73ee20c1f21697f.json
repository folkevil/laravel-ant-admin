{"remainingRequest":"/Users/alone/VueProjects/one-piece-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/alone/VueProjects/one-piece-vue/src/views/log/handle/Index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/alone/VueProjects/one-piece-vue/src/views/log/handle/Index.vue","mtime":1598705976820},{"path":"/Users/alone/VueProjects/one-piece-vue/node_modules/cache-loader/dist/cjs.js","mtime":1598515174450},{"path":"/Users/alone/VueProjects/one-piece-vue/node_modules/babel-loader/lib/index.js","mtime":1598515173625},{"path":"/Users/alone/VueProjects/one-piece-vue/node_modules/cache-loader/dist/cjs.js","mtime":1598515174450},{"path":"/Users/alone/VueProjects/one-piece-vue/node_modules/vue-loader/lib/index.js","mtime":1598515224010}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IFNUYWJsZSB9IGZyb20gJ0AvY29tcG9uZW50cycKaW1wb3J0IHsgZmV0Y2hIYW5kbGVMb2cgfSBmcm9tICdAL2FwaS9sb2cnCmNvbnN0IHN0YXR1c01hcCA9IHsKICAgIDA6IHsKICAgICAgICBzdGF0dXM6ICdkZWZhdWx0JywKICAgICAgICB0ZXh0OiAn5bey56aB55SoJwogICAgfSwKICAgIDE6IHsKICAgICAgICBzdGF0dXM6ICdwcm9jZXNzaW5nJywKICAgICAgICB0ZXh0OiAn5L2/55So5LitJwogICAgfQp9Cgpjb25zdCBjb2x1bW5zID0gW3sKICAgICAgICB0aXRsZTogJ+i6q+S7vScsCiAgICAgICAgc2NvcGVkU2xvdHM6IHsgY3VzdG9tUmVuZGVyOiAnZ3VhcmRfbmFtZScgfQogICAgfSwKICAgIHsKICAgICAgICB0aXRsZTogJ+i0puaItycsCiAgICAgICAgZGF0YUluZGV4OiAnYWNjb3VudCcKICAgIH0sCiAgICB7CiAgICAgICAgdGl0bGU6ICfmk43kvZwnLAogICAgICAgIGRhdGFJbmRleDogJ2FjdGlvbicKICAgIH0sCiAgICB7CiAgICAgICAgdGl0bGU6ICfmlrnms5UnLAogICAgICAgIGRhdGFJbmRleDogJ21ldGhvZCcKICAgIH0sCiAgICB7CiAgICAgICAgdGl0bGU6ICfor7fmsYInLAogICAgICAgIGRhdGFJbmRleDogJ3VybCcKICAgIH0sCiAgICB7CiAgICAgICAgdGl0bGU6ICfnirbmgIEnLAogICAgICAgIHNjb3BlZFNsb3RzOiB7IGN1c3RvbVJlbmRlcjogJ3N0YXR1cycgfQogICAgfSwKICAgIHsKICAgICAgICB0aXRsZTogJ0lQJywKICAgICAgICBkYXRhSW5kZXg6ICdpcCcKICAgIH0sCiAgICB7CiAgICAgICAgdGl0bGU6ICfmt7vliqAnLAogICAgICAgIGRhdGFJbmRleDogJ2NyZWF0ZWRfYXQnCiAgICB9Cl0KCmNvbnN0IHJvd1NlbGVjdGlvbiA9IHsKICBvbkNoYW5nZTogKHNlbGVjdGVkUm93S2V5cywgc2VsZWN0ZWRSb3dzKSA9PiB7fSwKICBvblNlbGVjdDogKHJlY29yZCwgc2VsZWN0ZWQsIHNlbGVjdGVkUm93cykgPT4ge30sCiAgb25TZWxlY3RBbGw6IChzZWxlY3RlZCwgc2VsZWN0ZWRSb3dzLCBjaGFuZ2VSb3dzKSA9PiB7fQp9CgpleHBvcnQgZGVmYXVsdCB7CiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGNvbmZpcm1Mb2FkaW5nOiBmYWxzZSwKICAgICAgICAgICAgaW5mbzoge30sCiAgICAgICAgICAgIGRhdGFBY2Nlc3NWaXNhYmxlOiBmYWxzZSwKICAgICAgICAgICAgZGF0YUFjY2Vzc0RlZmF1bHRFeHBhbmRlZEtleXM6IFtdLAogICAgICAgICAgICBxdWVyeVBhcmFtOiB7fSwKICAgICAgICAgICAgcm93U2VsZWN0aW9uLAogICAgICAgICAgICByb2xlRm9ybVRpdGxlOiAn6KeS6Imy6KGo5Y2VJywKICAgICAgICAgICAgbG9hZERhdGE6IHBhcmFtZXRlciA9PiB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2hIYW5kbGVMb2coT2JqZWN0LmFzc2lnbihwYXJhbWV0ZXIsIHRoaXMucXVlcnlQYXJhbSkpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmRhdGEKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHNlbGVjdGVkUm93czogW10sCiAgICAgICAgICAgIGNvbHVtbnMKICAgICAgICB9CiAgICB9LAogICAgY29tcG9uZW50czogeyBTVGFibGUgfSwKICAgIHdhdGNoOiB7fSwKICAgIGZpbHRlcnM6IHsKICAgICAgICBzdGF0dXNGaWx0ZXIoc3RhdHVzKSB7CiAgICAgICAgICAgIGlmIChzdGF0dXMgPj0gMzAwKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gJ3dhcm5pbmcnCiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuICdwcm9jZXNzaW5nJwogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgcmVmcmVzaFRhYmxlKCkgewogICAgICAgICAgICB0aGlzLiRyZWZzLnRhYmxlLnJlZnJlc2goKQogICAgICAgIH0sCiAgICAgICAgZXhwYW5kSWNvbih7IGV4cGFuZGVkIH0pIHsKICAgICAgICAgICAgaWYgKGV4cGFuZGVkID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gPGEtaWNvbiB0eXBlID0gJ2Rvd24nIC8+CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIDxhLWljb24gdHlwZSA9ICdyaWdodCcgLz4KICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["Index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Index.vue","sourceRoot":"src/views/log/handle","sourcesContent":["<template>\n    <page-header-wrapper>\n        <a-card :body-style=\"{ padding: 0 }\">\n            <div class=\"table-operator-right\">\n                <a-button type=\"primary\" icon=\"delete\">清空</a-button>\n                <a-divider type=\"vertical\"/>\n                <span class=\"ant-pro-table-toolbar-item-icon\">\n                    <a-tooltip placement=\"top\">\n                    <template slot=\"title\">\n                        <span>刷新</span>\n                    </template>\n                    <a-icon type=\"reload\" @click=\"refreshTable()\"/>\n                    </a-tooltip>\n                </span>\n            </div>\n            <s-table\n                ref=\"table\"\n                size=\"default\"\n                :rowKey=\"(record) => record.id\"\n                :columns=\"columns\"\n                :data=\"loadData\"\n                :showPagination=\"true\"\n                :expandRowByClick=\"true\"\n                :expandIcon=\"expandIcon\"\n            >\n\n            <template slot=\"guard_name\" slot-scope=\"row\">\n                <span :if=\"row.guard_name === 'admin'\">管理员</span>\n            </template>\n\n            <template slot=\"status\" slot-scope=\"row\">\n                <a-badge :status=\"row.status | statusFilter\"/>\n                {{ row.status }}\n            </template>\n\n            <p slot=\"expandedRowRender\" slot-scope=\"row\">\n                <a-divider v-if=\"row.agent\">agent</a-divider>\n                <a-row>{{ row.agent }}</a-row>\n                <a-divider v-if=\"row.params\">参数</a-divider>\n                <a-row>{{ row.params }}</a-row>\n                <a-divider v-if=\"row.response\">响应</a-divider>\n                <a-row>{{ row.response }}</a-row>\n            </p>\n      </s-table>\n    </a-card>\n\n  </page-header-wrapper>\n</template>\n\n<script>\nimport { STable } from '@/components'\nimport { fetchHandleLog } from '@/api/log'\nconst statusMap = {\n    0: {\n        status: 'default',\n        text: '已禁用'\n    },\n    1: {\n        status: 'processing',\n        text: '使用中'\n    }\n}\n\nconst columns = [{\n        title: '身份',\n        scopedSlots: { customRender: 'guard_name' }\n    },\n    {\n        title: '账户',\n        dataIndex: 'account'\n    },\n    {\n        title: '操作',\n        dataIndex: 'action'\n    },\n    {\n        title: '方法',\n        dataIndex: 'method'\n    },\n    {\n        title: '请求',\n        dataIndex: 'url'\n    },\n    {\n        title: '状态',\n        scopedSlots: { customRender: 'status' }\n    },\n    {\n        title: 'IP',\n        dataIndex: 'ip'\n    },\n    {\n        title: '添加',\n        dataIndex: 'created_at'\n    }\n]\n\nconst rowSelection = {\n  onChange: (selectedRowKeys, selectedRows) => {},\n  onSelect: (record, selected, selectedRows) => {},\n  onSelectAll: (selected, selectedRows, changeRows) => {}\n}\n\nexport default {\n    data() {\n        return {\n            confirmLoading: false,\n            info: {},\n            dataAccessVisable: false,\n            dataAccessDefaultExpandedKeys: [],\n            queryParam: {},\n            rowSelection,\n            roleFormTitle: '角色表单',\n            loadData: parameter => {\n                return fetchHandleLog(Object.assign(parameter, this.queryParam)).then(res => {\n                    return res.data\n                })\n            },\n            selectedRows: [],\n            columns\n        }\n    },\n    components: { STable },\n    watch: {},\n    filters: {\n        statusFilter(status) {\n            if (status >= 300) {\n                return 'warning'\n            }\n            return 'processing'\n        }\n    },\n    methods: {\n        refreshTable() {\n            this.$refs.table.refresh()\n        },\n        expandIcon({ expanded }) {\n            if (expanded === true) {\n                return <a-icon type = 'down' />\n            }\n            return <a-icon type = 'right' />\n        }\n    }\n}\n</script>\n"]}]}