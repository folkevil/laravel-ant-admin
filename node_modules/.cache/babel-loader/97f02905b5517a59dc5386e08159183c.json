{"remainingRequest":"/Users/alone/VueProjects/one-piece-vue/node_modules/babel-loader/lib/index.js!/Users/alone/VueProjects/one-piece-vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/alone/VueProjects/one-piece-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/alone/VueProjects/one-piece-vue/src/views/permission/user/Index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/alone/VueProjects/one-piece-vue/src/views/permission/user/Index.vue","mtime":1597645033657},{"path":"/Users/alone/VueProjects/one-piece-vue/node_modules/cache-loader/dist/cjs.js","mtime":1595422850119},{"path":"/Users/alone/VueProjects/one-piece-vue/node_modules/babel-loader/lib/index.js","mtime":1595422850086},{"path":"/Users/alone/VueProjects/one-piece-vue/node_modules/cache-loader/dist/cjs.js","mtime":1595422850119},{"path":"/Users/alone/VueProjects/one-piece-vue/node_modules/vue-loader/lib/index.js","mtime":1596109940102}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IFNUYWJsZSB9IGZyb20gJ0AvY29tcG9uZW50cyc7CmltcG9ydCBVc2VyRm9ybSBmcm9tICcuL2NvbXBvbmVudHMvVXNlckZvcm0nOwppbXBvcnQgeyBmZXRjaEFjY291bnQsIGRlbGV0ZUFjY291bnQsIGNyZWF0ZUFjY291bnQsIHVwZGF0ZUFjY291bnQgfSBmcm9tICdAL2FwaS9hZG1pbic7CnZhciBjb2x1bW5zID0gW3sKICB0aXRsZTogJ+W4kOWPt+aYteensCcsCiAgZGF0YUluZGV4OiAnbmlja25hbWUnCn0sIHsKICB0aXRsZTogJ+eZu+W9lei0puWPtycsCiAgZGF0YUluZGV4OiAnYWNjb3VudCcKfSwgewogIHRpdGxlOiAn6LSm5Y+36KeS6ImyJywKICBkYXRhSW5kZXg6ICdyb2xlLnRpdGxlJwp9LCB7CiAgdGl0bGU6ICfotKblj7fnirbmgIEnLAogIHNjb3BlZFNsb3RzOiB7CiAgICBjdXN0b21SZW5kZXI6ICdzdGF0dXMnCiAgfQp9LCB7CiAgdGl0bGU6ICfmm7TmlrDml7bpl7QnLAogIGRhdGFJbmRleDogJ3VwZGF0ZWRfYXQnCn0sIHsKICB0aXRsZTogJ+WIm+W7uuaXtumXtCcsCiAgZGF0YUluZGV4OiAnY3JlYXRlZF9hdCcKfSwgewogIHRpdGxlOiAn5pON5L2cJywKICBzY29wZWRTbG90czogewogICAgY3VzdG9tUmVuZGVyOiAndG9vbHMnCiAgfQp9XTsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHJldHVybiB7CiAgICAgIGRlc2NyaXB0aW9uOiAn5ZCO5Y+w566h55CG6LSm5Y+35YiX6KGoJywKICAgICAgdmlzaWJsZTogZmFsc2UsCiAgICAgIHVzZXJGcm9tVmlzaWJsZTogZmFsc2UsCiAgICAgIGNvbmZpcm1Mb2FkaW5nOiBmYWxzZSwKICAgICAgc2VsZWN0ZUlkOiAwLAogICAgICBydWxlczogW10sCiAgICAgIHJvbGVzOiBbXSwKICAgICAgY29sdW1uczogY29sdW1ucywKICAgICAgdXNlckZvcm1UaXRsZTogJ+aWsOW7uicsCiAgICAgIGxvYWREYXRhOiBmdW5jdGlvbiBsb2FkRGF0YShwYXJhbWV0ZXIpIHsKICAgICAgICByZXR1cm4gZmV0Y2hBY2NvdW50KCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICB2YXIgX3JlcyRkYXRhID0gcmVzLmRhdGEsCiAgICAgICAgICAgICAgdXNlcnMgPSBfcmVzJGRhdGEudXNlcnMsCiAgICAgICAgICAgICAgcnVsZXMgPSBfcmVzJGRhdGEucnVsZXMsCiAgICAgICAgICAgICAgcm9sZXMgPSBfcmVzJGRhdGEucm9sZXM7CiAgICAgICAgICBfdGhpcy5ydWxlcyA9IHJ1bGVzOwogICAgICAgICAgX3RoaXMucm9sZXMgPSByb2xlczsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGRhdGE6IHVzZXJzCiAgICAgICAgICB9OwogICAgICAgIH0pOwogICAgICB9CiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgU1RhYmxlOiBTVGFibGUsCiAgICBVc2VyRm9ybTogVXNlckZvcm0KICB9LAogIG1ldGhvZHM6IHsKICAgIHJlZnJlc2hUYWJsZTogZnVuY3Rpb24gcmVmcmVzaFRhYmxlKCkgewogICAgICB2YXIgYm9vbCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZmFsc2U7CiAgICAgIHRoaXMuJHJlZnMudGFibGUucmVmcmVzaChib29sKTsKICAgIH0sCiAgICBzaG93RGVsZXRlQ29uZmlybTogZnVuY3Rpb24gc2hvd0RlbGV0ZUNvbmZpcm0oaWQpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLiRjb25maXJtKHsKICAgICAgICB0aXRsZTogJ+ehruWumuWIoOmZpOatpOeUqOaIt+WQlz8nLAogICAgICAgIGNvbnRlbnQ6ICcnLAogICAgICAgIG9rVGV4dDogJ+ehruWumicsCiAgICAgICAgb2tUeXBlOiAnZGFuZ2VyJywKICAgICAgICBjYW5jZWxUZXh0OiAn5Y+W5raIJywKICAgICAgICBvbk9rOiBmdW5jdGlvbiBvbk9rKCkgewogICAgICAgICAgdmFyIGhpZGUgPSBfdGhpczIuJG1lc3NhZ2UubG9hZGluZygn5Yig6Zmk5LitLi4nLCAwKTsKCiAgICAgICAgICBkZWxldGVBY2NvdW50KGlkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLnN1Y2Nlc3MoJ+WIoOmZpOaIkOWKn++8gScpOwoKICAgICAgICAgICAgX3RoaXMyLnJlZnJlc2hUYWJsZSgpOwogICAgICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGhpZGUoKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlVXNlckNhbmNlbDogZnVuY3Rpb24gaGFuZGxlVXNlckNhbmNlbCgpIHsKICAgICAgdGhpcy51c2VyRnJvbVZpc2libGUgPSBmYWxzZTsKICAgICAgdGhpcy4kcmVmcy51c2VyRm9ybS5mb3JtLnJlc2V0RmllbGRzKCk7CiAgICAgIHRoaXMuc2VsZWN0ZUlkID0gMDsKICAgIH0sCiAgICBoYW5kbGVVc2VyU3VibWl0OiBmdW5jdGlvbiBoYW5kbGVVc2VyU3VibWl0KCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnMudXNlckZvcm0uZm9ybS52YWxpZGF0ZUZpZWxkcyhmdW5jdGlvbiAoZXJyLCB2YWx1ZXMpIHsKICAgICAgICBpZiAoIWVycikgewogICAgICAgICAgIXZhbHVlcy5wYXNzd29yZCAmJiBkZWxldGUgdmFsdWVzLnBhc3N3b3JkOwogICAgICAgICAgY29uc29sZS5sb2coJ3ZhbHVlcycsIHZhbHVlcyk7CiAgICAgICAgICB2YXIgcmVxdWVzdCA9IF90aGlzMy5zZWxlY3RlSWQgPT09IDAgPyBjcmVhdGVBY2NvdW50KHZhbHVlcykgOiB1cGRhdGVBY2NvdW50KF90aGlzMy5zZWxlY3RlSWQsIHZhbHVlcyk7CiAgICAgICAgICByZXF1ZXN0LnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICBfdGhpczMuJG1lc3NhZ2Uuc3VjY2VzcyhfdGhpczMuc2VsZWN0ZUlkID09PSAwID8gJ+a3u+WKoOaIkOWKn++8gScgOiAn5pu05paw5oiQ5Yqf77yBJyk7CgogICAgICAgICAgICBfdGhpczMuaGFuZGxlVXNlckNhbmNlbCgpOwoKICAgICAgICAgICAgX3RoaXMzLnJlZnJlc2hUYWJsZSgpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBlZGl0VXNlckZvcm06IGZ1bmN0aW9uIGVkaXRVc2VyRm9ybShyb3cpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB0aGlzLnNlbGVjdGVJZCA9IHJvdy5pZDsKICAgICAgdGhpcy51c2VyRnJvbVZpc2libGUgPSB0cnVlOwogICAgICB0aGlzLnVzZXJGb3JtVGl0bGUgPSAn57yW6L6RJzsKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzNC4kcmVmcy51c2VyRm9ybS5mb3JtLnNldEZpZWxkc1ZhbHVlKHsKICAgICAgICAgIGFjY291bnQ6IHJvdy5hY2NvdW50LAogICAgICAgICAgbmlja25hbWU6IHJvdy5uaWNrbmFtZSwKICAgICAgICAgIHJvbGVfaWQ6IHJvdy5yb2xlX2lkLAogICAgICAgICAgc3RhdHVzOiByb3cuc3RhdHVzCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGV4cGFuZEljb246IGZ1bmN0aW9uIGV4cGFuZEljb24oX3JlZikgewogICAgICB2YXIgZXhwYW5kZWQgPSBfcmVmLmV4cGFuZGVkOwogICAgICB2YXIgaCA9IHRoaXMuJGNyZWF0ZUVsZW1lbnQ7CgogICAgICBpZiAoZXhwYW5kZWQgPT09IHRydWUpIHsKICAgICAgICByZXR1cm4gaCgiYS1pY29uIiwgewogICAgICAgICAgImF0dHJzIjogewogICAgICAgICAgICAidHlwZSI6ICdkb3duJwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CgogICAgICByZXR1cm4gaCgiYS1pY29uIiwgewogICAgICAgICJhdHRycyI6IHsKICAgICAgICAgICJ0eXBlIjogJ3JpZ2h0JwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <page-header-wrapper :content=\"description\">\n        <a-card :body-style=\"{ padding: 0 }\">\n            <div class=\"table-operator-right\">\n                <a-button v-action:addAdmin type=\"primary\" icon=\"plus\" @click=\"userFromVisible = true\">新建</a-button>\n                <a-divider type=\"vertical\" />\n                <span class=\"ant-pro-table-toolbar-item-icon\">\n                    <a-tooltip placement=\"top\">\n                        <template slot=\"title\">\n                            <span>刷新</span>\n                        </template>\n                        <a-icon type=\"reload\" @click=\"refreshTable()\"/>\n                    </a-tooltip>\n                </span>\n            </div>\n\n            <s-table\n            ref=\"table\"\n            size=\"default\"\n            :rowKey=\"(record) => record.id\"\n            :columns=\"columns\"\n            :data=\"loadData\"\n            :expandRowByClick=\"true\"\n            :showPagination=\"false\"\n            :expandIcon=\"expandIcon\"\n            >\n                <template slot=\"status\" slot-scope=\"row\">\n                    <template v-if=\"row.status === 1\">\n                        <a-badge status=\"processing\" text=\"启用中\"/>\n                    </template>\n\n                    <template v-else>\n                        <a-badge status=\"default\" text=\"禁用中\" />\n                    </template>\n                </template>\n\n                <template slot=\"expandedRowRender\" slot-scope=\"row\">\n                    <a-row>\n                        <a-col class=\"rule-list\" span=\"12\" v-for=\"(item, index) in rules\" :key=\"index\">\n                            <a-row>\n                                <a-col span=\"4\">{{ item.title }}：</a-col>\n                                <a-col span=\"20\">\n                                    <template v-if=\"!item.actions.length\">-</template>\n\n                                    <template v-for=\"(action, i) in item.actions\">\n                                        <a-tag color=\"blue\" :key=\"i\" v-if=\"row.rules.indexOf(action.id) !== -1\">\n                                            {{ action.title }}\n                                        </a-tag>\n                                        <a-tag :key=\"i\" v-else>\n                                            {{ action.title }}\n                                        </a-tag>\n                                    </template>\n                                </a-col>\n                            </a-row>\n                        </a-col>\n                    </a-row>\n                </template>\n\n                <template slot=\"tools\" slot-scope=\"row\">\n                    <a v-action:editAdmin @click=\"editUserForm(row)\">编辑</a>\n                    <a-divider type=\"vertical\" />\n                    <a v-action:deleteAdmin @click=\"showDeleteConfirm(row.id)\">删除</a>\n                </template>\n            </s-table>\n\n        </a-card>\n\n        <userForm\n            ref=\"userForm\"\n            :title=\"userFormTitle\"\n            :rules=\"rules\"\n            :roles=\"roles\"\n            :selecteId=\"selecteId\"\n            :visible=\"userFromVisible\"\n            :confirmLoading=\"confirmLoading\"\n            @submit=\"handleUserSubmit\"\n            @cancel=\"handleUserCancel\"\n        />\n\n    </page-header-wrapper>\n</template>\n\n<script>\nimport { STable } from '@/components'\nimport UserForm from './components/UserForm'\nimport { fetchAccount, deleteAccount, createAccount, updateAccount } from '@/api/admin'\nconst columns = [{\n        title: '帐号昵称',\n        dataIndex: 'nickname'\n    },\n    {\n        title: '登录账号',\n        dataIndex: 'account'\n    },\n    {\n        title: '账号角色',\n        dataIndex: 'role.title'\n    },\n    {\n        title: '账号状态',\n        scopedSlots: { customRender: 'status' }\n    },\n    {\n        title: '更新时间',\n        dataIndex: 'updated_at'\n    },\n    {\n        title: '创建时间',\n        dataIndex: 'created_at'\n    },\n    {\n        title: '操作',\n        scopedSlots: { customRender: 'tools' }\n    }\n]\n\nexport default {\n    data() {\n        return {\n            description: '后台管理账号列表',\n            visible: false,\n            userFromVisible: false,\n            confirmLoading: false,\n            selecteId: 0,\n            rules: [],\n            roles: [],\n            columns,\n            userFormTitle: '新建',\n            loadData: parameter => {\n                return fetchAccount().then(res => {\n                    const { users, rules, roles } = res.data\n                    this.rules = rules\n                    this.roles = roles\n                    return {\n                        data: users\n                    }\n                })\n            }\n        }\n    },\n    components: { STable, UserForm },\n    methods: {\n        refreshTable(bool = false) {\n            this.$refs.table.refresh(bool)\n        },\n        showDeleteConfirm(id) {\n            this.$confirm({\n                title: '确定删除此用户吗?',\n                content: '',\n                okText: '确定',\n                okType: 'danger',\n                cancelText: '取消',\n                onOk: () => {\n                    const hide = this.$message.loading('删除中..', 0)\n                    deleteAccount(id).then(res => {\n                        this.$message.success('删除成功！')\n                        this.refreshTable()\n                    }).finally(() => {\n                        hide()\n                    })\n                }\n            })\n        },\n        handleUserCancel() {\n            this.userFromVisible = false\n            this.$refs.userForm.form.resetFields()\n            this.selecteId = 0\n        },\n        handleUserSubmit() {\n            this.$refs.userForm.form.validateFields((err, values) => {\n                if (!err) {\n                    !values.password && delete values.password\n                    console.log('values', values)\n                    const request = this.selecteId === 0 ? createAccount(values) : updateAccount(this.selecteId, values)\n                    request.then(res => {\n                        this.$message.success(this.selecteId === 0 ? '添加成功！' : '更新成功！')\n                        this.handleUserCancel()\n                        this.refreshTable()\n                    })\n                }\n            })\n        },\n\n        editUserForm(row) {\n            this.selecteId = row.id\n            this.userFromVisible = true\n            this.userFormTitle = '编辑'\n            this.$nextTick(() => {\n                this.$refs.userForm.form.setFieldsValue({\n                    account: row.account,\n                    nickname: row.nickname,\n                    role_id: row.role_id,\n                    status: row.status\n                })\n            })\n        },\n\n        expandIcon({ expanded }) {\n            if (expanded === true) {\n                return <a-icon type = 'down' />\n            }\n            return <a-icon type = 'right' />\n        }\n    }\n}\n</script>\n\n<style lang=\"less\">\n\n</style>\n"],"sourceRoot":"src/views/permission/user"}]}